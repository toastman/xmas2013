/*! xmas 2013-12-24 */
var snowStorm=function(a,b){function c(a,b){return isNaN(b)&&(b=0),Math.random()*a+b}function d(){a.setTimeout(function(){h.start(!0)},20),h.events.remove(i?b:a,"mousemove",d)}function e(){(!h.excludeMobile||!k)&&d(),h.events.remove(a,"load",e)}this.excludeMobile=this.autoStart=!0,this.flakesMax=128,this.flakesMaxActive=64,this.animationInterval=33,this.useGPU=!0,this.className=null,this.excludeMobile=!0,this.flakeBottom=null,this.followMouse=!0,this.snowColor="#fff",this.snowCharacter="&bull;",this.snowStick=!0,this.targetElement=null,this.useMeltEffect=!0,this.usePixelPosition=this.usePositionFixed=this.useTwinkleEffect=!1,this.freezeOnBlur=!0,this.flakeRightOffset=this.flakeLeftOffset=0,this.flakeHeight=this.flakeWidth=8,this.vMaxX=5,this.vMaxY=4,this.zIndex=0;var f,g,h=this,i=navigator.userAgent.match(/msie/i),j=navigator.userAgent.match(/msie 6/i),k=navigator.userAgent.match(/mobile|opera m(ob|in)/i),l=i&&"BackCompat"===b.compatMode||j,m=null,n=null,o=null,p=null,q=null,r=null,s=null,t=1,u=!1,v=!1;a:{try{b.createElement("div").style.opacity="0.5"}catch(w){g=!1;break a}g=!0}var x=!1,y=b.createDocumentFragment();return f=function(){function c(b){a.setTimeout(b,1e3/(h.animationInterval||20))}function d(a){return void 0!==g.style[a]?a:null}var e,f=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||c;e=f?function(){return f.apply(a,arguments)}:null;var g;return g=b.createElement("div"),e={transform:{ie:d("-ms-transform"),moz:d("MozTransform"),opera:d("OTransform"),webkit:d("webkitTransform"),w3:d("transform"),prop:null},getAnimationFrame:e},e.transform.prop=e.transform.w3||e.transform.moz||e.transform.webkit||e.transform.ie||e.transform.opera,g=null,e}(),this.timer=null,this.flakes=[],this.active=this.disabled=!1,this.meltFrameCount=20,this.meltFrames=[],this.setXY=function(a,b,c){return a?(h.usePixelPosition||v?(a.style.left=b-h.flakeWidth+"px",a.style.top=c-h.flakeHeight+"px"):l?(a.style.right=100-100*(b/m)+"%",a.style.top=Math.min(c,q-h.flakeHeight)+"px"):h.flakeBottom?(a.style.right=100-100*(b/m)+"%",a.style.top=Math.min(c,q-h.flakeHeight)+"px"):(a.style.right=100-100*(b/m)+"%",a.style.bottom=100-100*(c/o)+"%"),void 0):!1},this.events=function(){function b(a){a=e.call(a);var b=a.length;return d?(a[1]="on"+a[1],b>3&&a.pop()):3===b&&a.push(!1),a}function c(a,b){var c=a.shift(),e=[f[b]];d?c[e](a[0],a[1]):c[e].apply(c,a)}var d=!a.addEventListener&&a.attachEvent,e=Array.prototype.slice,f={add:d?"attachEvent":"addEventListener",remove:d?"detachEvent":"removeEventListener"};return{add:function(){c(b(arguments),"add")},remove:function(){c(b(arguments),"remove")}}}(),this.randomizeWind=function(){var a;if(a=c(h.vMaxX,.2),r=1===parseInt(c(2),10)?-1*a:a,s=c(h.vMaxY,.2),this.flakes)for(a=0;a<this.flakes.length;a++)this.flakes[a].active&&this.flakes[a].setVelocities()},this.scrollHandler=function(){var c;if(p=h.flakeBottom?0:parseInt(a.scrollY||b.documentElement.scrollTop||(l?b.body.scrollTop:0),10),isNaN(p)&&(p=0),!u&&!h.flakeBottom&&h.flakes)for(c=0;c<h.flakes.length;c++)0===h.flakes[c].active&&h.flakes[c].stick()},this.resizeHandler=function(){a.innerWidth||a.innerHeight?(m=a.innerWidth-16-h.flakeRightOffset,o=h.flakeBottom||a.innerHeight):(m=(b.documentElement.clientWidth||b.body.clientWidth||b.body.scrollWidth)-(i?0:8)-h.flakeRightOffset,o=h.flakeBottom||b.documentElement.clientHeight||b.body.clientHeight||b.body.scrollHeight),q=b.body.offsetHeight,n=parseInt(m/2,10)},this.resizeHandlerAlt=function(){m=h.targetElement.offsetWidth-h.flakeRightOffset,o=h.flakeBottom||h.targetElement.offsetHeight,n=parseInt(m/2,10),q=b.body.offsetHeight},this.freeze=function(){return h.disabled?!1:(h.disabled=1,h.timer=null,void 0)},this.resume=function(){return h.disabled?(h.disabled=0,h.timerInit(),void 0):!1},this.toggleSnow=function(){h.flakes.length?(h.active=!h.active,h.active?(h.show(),h.resume()):(h.stop(),h.freeze())):h.start()},this.stop=function(){var c;for(this.freeze(),c=0;c<this.flakes.length;c++)this.flakes[c].o.style.display="none";h.events.remove(a,"scroll",h.scrollHandler),h.events.remove(a,"resize",h.resizeHandler),h.freezeOnBlur&&(i?(h.events.remove(b,"focusout",h.freeze),h.events.remove(b,"focusin",h.resume)):(h.events.remove(a,"blur",h.freeze),h.events.remove(a,"focus",h.resume)))},this.show=function(){var a;for(a=0;a<this.flakes.length;a++)this.flakes[a].o.style.display="block"},this.SnowFlake=function(a,d,e){var i=this;this.type=a,this.x=d||parseInt(c(m-20),10),this.y=isNaN(e)?-c(o)-12:e,this.vY=this.vX=null,this.vAmpTypes=[1,1.2,1.4,1.6,1.8],this.vAmp=this.vAmpTypes[this.type]||1,this.melting=!1,this.meltFrameCount=h.meltFrameCount,this.meltFrames=h.meltFrames,this.twinkleFrame=this.meltFrame=0,this.active=1,this.fontSize=10+10*(this.type/5),this.o=b.createElement("div"),this.o.innerHTML=h.snowCharacter,h.className&&this.o.setAttribute("class",h.className),this.o.style.color=h.snowColor,this.o.style.position=u?"fixed":"absolute",h.useGPU&&f.transform.prop&&(this.o.style[f.transform.prop]="translate3d(0px, 0px, 0px)"),this.o.style.width=h.flakeWidth+"px",this.o.style.height=h.flakeHeight+"px",this.o.style.fontFamily="arial,verdana",this.o.style.cursor="default",this.o.style.overflow="hidden",this.o.style.fontWeight="normal",this.o.style.zIndex=h.zIndex,y.appendChild(this.o),this.refresh=function(){return isNaN(i.x)||isNaN(i.y)?!1:(h.setXY(i.o,i.x,i.y),void 0)},this.stick=function(){l||h.targetElement!==b.documentElement&&h.targetElement!==b.body?i.o.style.top=o+p-h.flakeHeight+"px":h.flakeBottom?i.o.style.top=h.flakeBottom+"px":(i.o.style.display="none",i.o.style.top="auto",i.o.style.bottom="0%",i.o.style.position="fixed",i.o.style.display="block")},this.vCheck=function(){0<=i.vX&&.2>i.vX?i.vX=.2:0>i.vX&&-.2<i.vX&&(i.vX=-.2),0<=i.vY&&.2>i.vY&&(i.vY=.2)},this.move=function(){var a=i.vX*t;i.x+=a,i.y+=i.vY*i.vAmp,i.x>=m||m-i.x<h.flakeWidth?i.x=0:0>a&&i.x-h.flakeLeftOffset<-h.flakeWidth&&(i.x=m-h.flakeWidth-1),i.refresh(),o+p-i.y+h.flakeHeight<h.flakeHeight?(i.active=0,h.snowStick?i.stick():i.recycle()):(h.useMeltEffect&&i.active&&3>i.type&&!i.melting&&.998<Math.random()&&(i.melting=!0,i.melt()),h.useTwinkleEffect&&(0>i.twinkleFrame?.97<Math.random()&&(i.twinkleFrame=parseInt(8*Math.random(),10)):(i.twinkleFrame--,g?i.o.style.opacity=i.twinkleFrame&&0===i.twinkleFrame%2?0:1:i.o.style.visibility=i.twinkleFrame&&0===i.twinkleFrame%2?"hidden":"visible")))},this.animate=function(){i.move()},this.setVelocities=function(){i.vX=r+c(.12*h.vMaxX,.1),i.vY=s+c(.12*h.vMaxY,.1)},this.setOpacity=function(a,b){return g?(a.style.opacity=b,void 0):!1},this.melt=function(){h.useMeltEffect&&i.melting?i.meltFrame<i.meltFrameCount?(i.setOpacity(i.o,i.meltFrames[i.meltFrame]),i.o.style.fontSize=i.fontSize-i.fontSize*(i.meltFrame/i.meltFrameCount)+"px",i.o.style.lineHeight=h.flakeHeight+2+.75*h.flakeHeight*(i.meltFrame/i.meltFrameCount)+"px",i.meltFrame++):i.recycle():i.recycle()},this.recycle=function(){i.o.style.display="none",i.o.style.position=u?"fixed":"absolute",i.o.style.bottom="auto",i.setVelocities(),i.vCheck(),i.meltFrame=0,i.melting=!1,i.setOpacity(i.o,1),i.o.style.padding="0px",i.o.style.margin="0px",i.o.style.fontSize=i.fontSize+"px",i.o.style.lineHeight=h.flakeHeight+2+"px",i.o.style.textAlign="center",i.o.style.verticalAlign="baseline",i.x=parseInt(c(m-h.flakeWidth-20),10),i.y=parseInt(-1*c(o),10)-h.flakeHeight,i.refresh(),i.o.style.display="block",i.active=1},this.recycle(),this.refresh()},this.snow=function(){var a,b=0,d=null,d=0;for(a=h.flakes.length;a>d;d++)1===h.flakes[d].active&&(h.flakes[d].move(),b++),h.flakes[d].melting&&h.flakes[d].melt();b<h.flakesMaxActive&&(d=h.flakes[parseInt(c(h.flakes.length),10)],0===d.active&&(d.melting=!0)),h.timer&&f.getAnimationFrame(h.snow)},this.mouseMove=function(a){return h.followMouse?(a=parseInt(a.clientX,10),n>a?t=-2+2*(a/n):(a-=n,t=2*(a/n)),void 0):!0},this.createSnow=function(a,b){var d;for(d=0;a>d;d++)h.flakes[h.flakes.length]=new h.SnowFlake(parseInt(c(6),10)),(b||d>h.flakesMaxActive)&&(h.flakes[h.flakes.length-1].active=-1);h.targetElement.appendChild(y)},this.timerInit=function(){h.timer=!0,h.snow()},this.init=function(){var c;for(c=0;c<h.meltFrameCount;c++)h.meltFrames.push(1-c/h.meltFrameCount);h.randomizeWind(),h.createSnow(h.flakesMax),h.events.add(a,"resize",h.resizeHandler),h.events.add(a,"scroll",h.scrollHandler),h.freezeOnBlur&&(i?(h.events.add(b,"focusout",h.freeze),h.events.add(b,"focusin",h.resume)):(h.events.add(a,"blur",h.freeze),h.events.add(a,"focus",h.resume))),h.resizeHandler(),h.scrollHandler(),h.followMouse&&h.events.add(i?b:a,"mousemove",h.mouseMove),h.animationInterval=Math.max(20,h.animationInterval),h.timerInit()},this.start=function(c){if(x){if(c)return!0}else x=!0;if("string"==typeof h.targetElement&&(c=h.targetElement,h.targetElement=b.getElementById(c),!h.targetElement))throw Error('Snowstorm: Unable to get targetElement "'+c+'"');if(h.targetElement||(h.targetElement=b.body||b.documentElement),h.targetElement!==b.documentElement&&h.targetElement!==b.body&&(h.resizeHandler=h.resizeHandlerAlt,h.usePixelPosition=!0),h.resizeHandler(),h.usePositionFixed=h.usePositionFixed&&!l&&!h.flakeBottom,a.getComputedStyle)try{v="relative"===a.getComputedStyle(h.targetElement,null).getPropertyValue("position")}catch(d){v=!1}u=h.usePositionFixed,m&&o&&!h.disabled&&(h.init(),h.active=!0)},h.autoStart&&h.events.add(a,"load",e,!1),this}(window,document);snowStorm.snowColor="#ffffff",snowStorm.flakesMaxActive=512,snowStorm.useTwinkleEffect=!0,snowStorm.snowStick=!1,snowStorm.animationInterval=50,snowStorm.followMouse=!1;